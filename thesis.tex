%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% I, the copyright holder of this work, release this work into the
%% public domain. This applies worldwide. In some countries this may
%% not be legally possible; if so: I grant anyone the right to use
%% this work for any purpose, without any conditions, unless such
%% conditions are required by law.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[
  digital,     %% The `digital` option enables the default options for the
               %% digital version of a document. Replace with `printed`
               %% to enable the default options for the printed version
               %% of a document.
%%  color,       %% Uncomment these lines (by removing the %% at the
%%               %% beginning) to use color in the printed version of your
%%               %% document
  oneside,     %% The `oneside` option enables one-sided typesetting,
               %% which is preferred if you are only going to submit a
               %% digital version of your thesis. Replace with `twoside`
               %% for double-sided typesetting if you are planning to
               %% also print your thesis. For double-sided typesetting,
               %% use at least 120 g/m² paper to prevent show-through.
  nosansbold,  %% The `nosansbold` option prevents the use of the
               %% sans-serif type face for bold text. Replace with
               %% `sansbold` to use sans-serif type face for bold text.
  colorbold, %% The `nocolorbold` option disables the usage of the
               %% blue color for bold text, instead using black. Replace
               %% with `colorbold` to use blue for bold text.
  lof,         %% The `lof` option prints the List of Figures. Replace
               %% with `nolof` to hide the List of Figures.
  lot,         %% The `lot` option prints the List of Tables. Replace
               %% with `nolot` to hide the List of Tables.
]{fithesis4}
%% The following section sets up the locales used in the thesis.
\usepackage[resetfonts]{cmap} %% We need to load the T2A font encoding
\usepackage[T1,T2A]{fontenc}  %% to use the Cyrillic fonts with Russian texts.
\usepackage[
  main=english, %% By using `czech` or `slovak` as the main locale
                %% instead of `english`, you can typeset the thesis
                %% in either Czech or Slovak, respectively.
  english, german, russian, czech, slovak %% The additional keys allow
]{babel}        %% foreign texts to be typeset as follows:
%%
%%   \begin{otherlanguage}{german}  ... \end{otherlanguage}
%%   \begin{otherlanguage}{russian} ... \end{otherlanguage}
%%   \begin{otherlanguage}{czech}   ... \end{otherlanguage}
%%   \begin{otherlanguage}{slovak}  ... \end{otherlanguage}
%%
%% For non-Latin scripts, it may be necessary to load additional
%% fonts:
\usepackage{paratype}
\def\textrussian#1{{\usefont{T2A}{PTSerif-TLF}{m}{rm}#1}}
%%
%% The following section sets up the metadata of the thesis.
\thesissetup{
    date        = 2023/03/08,
    university  = mu,
    faculty     = fi,
    type        = bc,
    department  = Department of Computer Science,
    author      = Jan Martinek,
    gender      = m,
    advisor     = {Mgr. Tomáš Foltýnek, Ph.D.},
    title       = {Interactive database of educational materials on academic integrity},
    TeXtitle    = {INTERACTIVE DATABASE OF EDUCATIONAL MATERIALS ON ACADEMIC INTEGRITY},
    keywords    = {PHP, CodeIgniter, MVC, database, JavaScript, material, academic integrity},
    TeXkeywords = {PHP, CodeIgniter, MVC, database, JavaScript, material, academic integrity},
    abstract    = {%
        The thesis aims to reimplement an existing WordPress plugin created by
        Leoš Lang into a new web application. The resulting application uses
        a PHP backend supported by the CodeIgniter4 framework. The new application
        is customized directly for ENAI (European Network for Academic Integrity)
        in both design and functionality. It mostly matches the original
        functionality, modified by including changes requested by the ENAI
        members. Its primary focus is on improving the administration interface,
        file handling, and filtering. The application is made available on the
        ENAI (European Network for Academic Integrity) website~\cite{enai_materials}.
    },
    thanks      = {%
        I want to give my thanks mainly to my supervisor, Mgr. Tomáš Foltýnek, Ph.D.,
        for leading me through the topic and making time for regular consultations.
        I'd also like to thank my advisor, Ing. Dita Henek Dlabolová, Ph.D. and all the
        personnel at ENAI for discussing the requirements with me and for giving me valuable
        feedback. Finally, I am grateful to my family, who have kept my morale up
        during my studies.
    },
    bib         = sources.bib,
    %% Remove the following line to use the JVS 2018 faculty logo.
    facultyLogo = fithesis-fi,
}
\usepackage{makeidx}      %% The `makeidx` package contains
\makeindex                %% helper commands for index typesetting.
%% These additional packages are used within the document:
\usepackage{paralist} %% Compact list environments
\usepackage{amsmath}  %% Mathematics
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{url}      %% Hyperlinks
\usepackage{markdown} %% Lightweight markup
\usepackage{listings} %% Source code highlighting
\lstset{
  basicstyle      = \ttfamily,
  identifierstyle = \color{black},
  keywordstyle    = \color{blue},
  keywordstyle    = {[2]\color{cyan}},
  keywordstyle    = {[3]\color{olive}},
  stringstyle     = \color{teal},
  commentstyle    = \itshape\color{magenta},
  breaklines      = true,
}
\usepackage{floatrow} %% Putting captions above tables
\floatsetup[table]{capposition=top}
\usepackage[babel]{csquotes} %% Context-sensitive quotation marks

\begin{document}
%% The \chapter* command can be used to produce unnumbered chapters:
%% Unlike \chapter, \chapter* does not update the headings and does not
%% enter the chapter to the table of contents. If we want correct
%% headings and a table of contents entry, we must add them manually:
% \markright{\textsc{Introduction}}
% \addcontentsline{toc}{chapter}{Introduction}

\chapter{Introduction}

Previously, it was almost impossible for people to share information globally.
However, this has changed drastically in recent decades with the rise of the
Internet. Each and every year, the number of people using it grows. Over
63\,\% of people worldwide can utilize it to convey or acquire new
information~\cite{w3_wordpress}. With the increased usage also comes
an increase in available resources. While this is great for variety, it also
sometimes creates an obstacle for anyone searching for valuable learning
materials.

European Network for Academic Integrity (ENAI) is an organization comprising
higher education institutions that strives to support its members and the public
in the field of academic integrity. An interactive database of educational
materials has been made available on the ENAI to combat the issue and has seen
considerable success since its conception.

The thesis bases itself on the previous iteration of this database application,
originally created as a more general plugin for WordPress. The plugin offered
a system supporting the management of educational materials to anyone employing
WordPress. While still widely used, the ENAI personnel wanted to move from
WordPress to a more customized solution. Such a decision demands the
reimplementation of the plugin. The rework is also used to introduce new
features, refine the existing ones, and tailor the application specifically to
the needs of ENAI members.

The application uses PHP as its \mbox{server-side} language, supported by a CodeIgniter4
framework. Frameworks provide many benefits, such as speeding up development by
providing many \mbox{often-used} functions or enhancing security and maintainability.
The project is designed to be a standalone web application, a small content
management system. It must be as portable as possible, with only a few steps
needed to run on most servers that support PHP. The user side of the application,
or front end, uses HTML, CSS, and pure JavaScript under the ECS6 standard.

The application can be divided into two almost separate areas, one accessible to
anyone and the second restricted behind an authentication system.

The public features a view of single or all materials. It allows users to
download attached files and view related subjects and websites. The searching
supports suggestions and, along with filtering, should be easy to grasp and
control.

The second one is an administration area. It allows easy and intuitive management
of materials. The management contains the creation, updating, and deletion of
taxonomies, accounts, and files. A dashboard is included to allow viewing of
statistics of use.

\section{Thesis structure}

The second chapter takes a look at the overall context. The third chapter
focuses on the analysis of requirements. The fourth one focuses on design decisions,
showcasing select diagrams. The fifth chapter focuses on selected implementation
details and challenges. The sixth chapter evaluates the work and offers
additional insights and possible future improvements.

\chapter{Prerequisites}

\section{European Network for Academic Integrity}

“The European Network for Academic Integrity (ENAI) is an association gathering
educational institutions and individuals interested in maintaining and promoting
academic integrity”~\cite{enai_about}. It aims to support its members and
the public in the field of academic integrity, being the most extensive academic
integrity network in Europe. Aside from organizing the European Conference on Ethics
and Integrity in Academia, ENAI also provides several free services to the public,
such as a glossary on academic integrity, monthly webinars, self-assessment tools,
support for the victims of academic misconduct or a database of educational materials.

The mentioned database is one of the key players in supporting its efforts.
The database runs on a WordPress plugin~\cite{lang18} made by Leoš Lang.
Its caretakers wish to have it remade into a separate web application. Together
with this request, they want to change or remove several old features. Those
conditions are examined later in section~\ref{chap:analysis}.

\section{E-learning}

The first appearance of \mbox{e-learning} dates to the \mbox{mid-1960s}, but
the real growth began much later with the growth of the Internet in the late
90s~\cite{research_e-learning}. Since then, many forms of \mbox{e-learning}
have come into existence, be it interactive forms like videos or more passive
ones like \mbox{e-books}.

Most of the forms can be described by the following definition:  “E-learning is the use
of electronic technologies to create learning experiences”~\parencite[page.~1]{horton11}.
Learning is experienced with the usage of learning objects. “A learning object is a chunk
of electronic content that can be accessed individually and that ultimately accomplishes
a single learning objective and can prove it”~\parencite[page.~47]{horton11}. At its core,
an interactive database is an application of the previously mentioned definition.
Each material in the database then represents a singular learning object.

\section{Content management systems}

“A content management system (CMS) is primarily a repository for multimedia content
objects”~\parencite[page.~17]{mauthe04}. According to this definition, three main
areas every CMS should provide can be identified:

\begin{itemize}
    \item collection - acquiring information into the system, be it from existing
    or newly created sources.
    \item management - modifying or removing information that has already been
    collected and saved into the system.
    \item publishing - making the content available to the users through the web,
    e-mail, or any other means, such as printed copies.
\end{itemize}

For this thesis, it is important to mention two concrete kinds of CMS. First, an aim
of the thesis. A system that handles educational materials directly and simplifies
the collection and management operations for the user. The other one is more advanced
but serves a different purpose. It allows any user to create and manage websites
without prior programming knowledge. One of these is WordPress, mentioned in
section~\ref{sect:wordpress}.

\section{PHP}

Hypertext PreProcessor (PHP) is the currently most used \mbox{server-side} scripting
language. Being an \mbox{open-source} project able to run on most operating systems
ensures portability to almost any server. Its main advantages are platform and database
independence or easy understandability with \mbox{C-like} syntax. It offers many
library functions by default, such as array or hashing helpers, easing the burden
on developers. PHP code can be embedded into HTML files. The server reads and
alters the contents based on the embedded code before sending the page to the
user~\parencite[page.~30]{welling17}. PHP is very fast and scalable. It can also
service virtually any content, whether in the form of small project or
a \mbox{large-scale} website like Facebook. The updates to PHP are mostly backward
compatible, so little or no changes are usually required.

\section{WordPress}
\label{sect:wordpress}

WordPress is the most popular content management system. It is an \mbox{open-source}
platform running on PHP that allows anyone to contribute to its improvement.
Due to the rapid development and wide range of downloadable plugins and themes,
WordPress maintains a high following. It is used by 63.3\,\% of all websites whose
content management system is known or 43.2\,\% in total~\cite{w3_wordpress}.

WordPress has a large and active community of users who share knowledge and
resources related to WordPress development. The use of WordPress plugins
enabled developers to participate in this community and leverage existing
WordPress features and knowledge.

The core of WordPress is designed to be more lightweight and flexible. A WordPress
plugin is a collection of PHP scripts that can be accompanied by custom stylesheets
and templates. Their purpose is to extend the core with additional functionalities.
They can make changes to the database, show content to users, integrate into
administration, automate tasks (such as comment filtering), or function as
a separate application.

\subsection{Negatives}

\begin{enumerate}
	
	\item \textbf{Security}: Due to its popularity, WordPress is a favorite of hackers
and malicious users. WordPress websites are often vulnerable to security breaches.
Using WordPress plugins may introduce additional security risks to the site, as the
plugins sometimes have vulnerabilities or may not have been adequately maintained.
	
	\item \textbf{Performance}: WordPress can be slower and less efficient than a pure
PHP application because a WordPress site requires extra overhead for running the CMS
and plugins. The usage of plugins can cause issues and noticeably slow down the site,
especially if it is implemented poorly.
	
	\item \textbf{Flexibility}: While WordPress offers a lot of customization flexibility,
it can also be limiting in some ways. Using WordPress plugins requires web developers
to work within the constraints of the WordPress framework, which may restrict the
ability to use certain features or functionality. This is primarily true for the administration
user interface, making it harder to simplify specific tasks. Templating also causes many
sites to look similar.

\end{enumerate}

\section{Existing solutions}

A search for a freely available and finished solution to the problem was conducted. The search revealed two distinct system design trends, each having a sizeable following. The following text elaborates further on those trends, adds several examples, and mentions why they are not used for the project.

\subsection{Courses}

The first trend is systems categorized as Learning Management Systems (LMS). Those systems are a kind of CMS, albeit with a more specific focus. This focus is on delivering courses. The terms 'course' and 'educational material' are often used interchangeably, but the two have a number of key differences.

A course is a structured educational experience that is designed to provide learners with a specific set of learning outcomes or objectives. A course typically has a defined start and end date and may be delivered in a variety of formats, such as in-person classes, online modules, or a combination of both. Courses usually have a set curriculum outlining their topics and learning activities. They may include assessments or evaluations to measure the learner's progress and understanding.

Educational material refers to any content or resource designed to support learning and education. Such resources include textbooks, videos, tutorials, articles, and more. Unlike a course, educational material is often self-paced and self-directed, meaning that learners can access and use it on their own schedule and at their own pace.

While both courses and educational material aim to support learning and education, courses are generally more structured and have clear outcomes, and require more preparation work before release. On the other hand, educational materials are more flexible from a creation standpoint. They also allow learners to choose which resources to use to support their learning goals in parts.

Some of the course-focused systems are:
\begin{itemize}

	\item \textbf{Moodle}~\cite{https://moodle.org/} is a very popular platform. It was created in 2002 by Martin Dougiamas, an educator from Australia. Nowadays, it has more than 160000 sites in no less than 240 countries. Moodle provides a wide range of features, including course management, assessments, collaboration tools, and more. It is extensible with plugins.

	\item \textbf{Open edX}~\cite{https://openedx.org/} is an open-source platform for delivering massive open online courses created by edX, a non-profit organization founded by Harvard and MIT. One of the key features is its modular architecture, which allows for easy customization and extension. It has a large and active community of developers and users who contribute to the platform's development and support, enhancing its overall functionality.

	\item \textbf{Canvas}~\cite{https://github.com/instructure/canvas-lms} is a platform that includes features such as course management, assignments, quizzes, and discussions, as well as integration with other tools such as Google Drive, Zoom, and Microsoft Office. Canvas is written in Ruby programming language. Ruby is unavailable on the current hosting~\cite{https://w3techs.com/sites/info/forpsi.com}.

\end{itemize}

\subsection{Other}

The other premade solutions are systems similar to WordPress. However, even with a CMS, the application would need to be built from scratch. Moreover, since the work already aims to replace the existing WordPress plugin with a custom PHP solution, using another CMS would defy the purpose. Due to those reasons, this group is denied too.

Some of the considered open-source instances were:
\begin{itemize}

	\item \textbf{Omeka}~\cite{https://omeka.org/} is specifically designed for creating and managing digital collections and exhibits. It includes features such as customizable themes, metadata management, and access control to create a flexible and organized environment for digital content.
	
	\item \textbf{MediaWiki}~\cite{https://www.mediawiki.org/wiki/MediaWiki} is used by many organizations to create and manage wikis. It includes features such as page editing, version history, and access control that help create a collaborative and organized environment for content management. While it could be used for the application, there are better choices for material management.

\end{itemize}

\section{Framework}

TODO: what is framework

\section{MVC}

The Model-View-Controller (MVC) pattern is a popular design pattern used in web development~\cite{MVC}. Its main idea is to separate the application into three interconnected components: the Model, the View, and the Controller. The MVC pattern's primary benefit is promoting the division of responsibilities and modularity. By splitting the application into distinct components, each meant for a specific set of tasks, developers can focus on one component at a time. Changes to that component do not necessarily affect the other components. This makes it easier to maintain and update the application over time.

The Model represents the application's data and business logic, defining how data is stored, manipulated, and retrieved. It provides all methods for interacting with the data and is responsible for maintaining their consistency and integrity.

The View component represents the user interface and may be thought of as a front-end of the application. It is responsible for presenting data to the user in a visually appealing and understandable way and allowing interactions between the user and the application.

The Controller component acts as an intermediary between the Model and the View. It takes the inputs received from the user in the View, optionally verifies or transforms those inputs, then processes them with the help of the Model, and updates the View with the result.

\chapter{Analysis and Design}
\label{chap:analysis}

The first part looks at the plugin. The second describes the functional requirements,
and the third discusses \mbox{non-functional} requirements.

\section{Plugin}
\label{sect:plugin}

The original application is a plugin for WordPress. It is an online learning platform that provides a variety of materials and resources on various topics on academic integrity. The analysis ascertains its structure, design, and the possibility of usage as a code base instead of starting from scratch. After the analysis, it was clear that putting the original code to use would prove more difficult than starting from zero~\ref{subsect:plugin-structure}. The application is still meant to be a replacement, so the existing user interface and data need to be taken into account while discovering the requirements. To get more detailed information about the plugin, see the thesis written by Leoš Lang~\cite{lang18}.

\subsection{Structure}
\label{subsect:plugin-structure}

The very first step is getting to know the structure of the plugin. At a glance, the plugin seems straightforward. It follows a standard WordPress plugin folder structure.

\begin{itemize}
	\item \textit{css/} - contains compiled scss files
	\item \textit{sass/} - contains uncompiled scss files
	\item \textit{img/} - contains default image assets
	\item \textit{inc/} - contains all serverside scripts (PHP files)
	\item \textit{js/} - contains all javascript files
	\item \textit{e-learning-file-manager.php} - plugin entry point
	\item \textit{uninstall.php} - not implemented
\end{itemize}

However, this structure also indicates that the plugin does not leverage the WordPress MVC framework. Instead, it opts for a less graceful setup. It uses custom data types and implements their related functionalities by itself. The code is not very well documented outside of the mentioned thesis. The whole implementation heavily depends on WordPress and the methods it provides. The lack of proper documentation and high dependency on WordPress leads to a hard-to-separate and reimplement design. The plugin supports older versions starting with PHP version 5. This blocks newer updates. As such, a decision was made to focus on the frontend and database design choices rather than the plugin's rework with its code as a basis.

\subsection{Types of content}

The plugin works as an e-learning database. As such, it must handle educational materials. The materials hold the following properties:

\begin{itemize}
	\item Title - the name of the material.
	\item Sender - the name of the person who sent or created the material.
	\item Date - of when the material was published.
	\item Type - indicates the content type of the material.
	\item Tags - categories and other metadata.
	\item Comments - provided by users to receive feedback on materials.
	\item Rating - provided by users to favor quality materials.
	\item Content - can be a description of provided attachments or a complete learning experience.
	\item Attachments - link to some website or files on the server.
\end{itemize}

Sender as an attribute has only ever been used during the materials' creation, never shown otherwise, and can be removed. While shown, the type has never seen much use and should be merged into tags.

Tags are a central part of the application. They are ordered in a one-level hierarchy in a category-to-value relationship. Over the years, many tags accumulated, categories started overflowing, and their refinement is long overdue.

The rating was originally a part of the comment system, where each comment could contain a rating of one through five. Many malicious users took advantage of the comments to spread spam and advertisement messages, and the comments were disabled. The rating should be a separate functionality in the new version, with comments never returning.

The attachments could either be links or files. Files were saved into folders based on the year and month of their upload. This should be changed into a model where every attachment belongs directly to the material as per the administrator's request. More on the limitations of attachments is said in the user interface section~\ref{subsect:plugin-ui}.

\subsection{User interface}
\label{subsect:plugin-ui}

The plugin provides several viewable pages: all or filtered materials, material details, and administration with configuration and a material editor. Its interface is quite plain, which is in no way a bad thing. The plainness makes it look clean and easy to navigate. The plugin offers the same navigation menu as ENAI's main page, which will not be a part of the new version due to separability.

The view of all materials contains a search bar, a filter menu, and a list of found materials. This list is paged and can be filtered by both the search bar and the filters. Every material shows its title, thumbnail, publish date, rating, short description, and views. A similar view is present in the administration, except the data is shown in a sortable table.

Upon clicking on any material, a user is redirected to its details, where all of the mentioned properties are visible, with full content replacing the description. Either a link or files are appended to the end of those details.
Be aware that there is a word \textit{either}. Inside management, this click opens the material editor with values of selected material. New material is created similarly, except by clicking a particular button. Tags can be managed by the editor on the right side of the view anywhere in the plugins' administration area.

Where the layout fails is on mobile devices and inside the administration. For example, many buttons appear out of place, and after opening the filters, they can no longer be closed. The main problem with administration is the absence of usage statistics and no way of ordering the materials by those values. Moreover, the attachments are clumsy at best. You can select the material to have a link attached or a collection of files. Never both. While it is possible to add links directly into content, it does not look or feel great. Assigning tags to materials is not easy either since they are shown in a block with no search available.

There are many problems with the user interface, and the rework hopes to address all or at least a major part of them.

\section{Requirements}

\subsection{Functional requirements}

Based on the analysis of the plugin and discussions with the ENAI personel, new functional requirements were stated. Those requirements represent a set of functionalities that the application needs to provide to its users.

\begin{itemize}
    \item creation and management of materials, resources, tags
    \item assignment of resources and tags to a material
    \item viewing and filtering (by title and tags) of all materials
    \item supporting multiple language materials (references)
    \item rating of materials
    \item setting of home page and about page
    \item setting of default image
    \item gather and view statistics about material usage
\end{itemize}

\subsection{Non-functional requirements}

Non-functional requirements represent a set of conditions that the application needs to be aware of, since they can limit its operation by disallowing use of some technologies or impose that certain metrics such as quality of delivery are met.

\begin{itemize}
	\item application must be compatible with Forpsi server~\cite{forpsi}
	\item data are saved in a MySQL database
	\item PHP 7+
	\item internet connection and web browser
\end{itemize}

The application should be mobile centric, meaning designed for mobile use first and only after that for computers or devices with larger screen sizes. There should be high level of focus on the desing of user-friendly interface. Each action should be well understood and simple to do. This requirement is weighed more in the management in this case.

\section{Use case diagram}

The use case diagram is a behavioral diagram from Unified Modeling Language (UML). It is a graphical representation of the relations between the users and their requirements on the system. A use case diagram highlights the system's functionality from the point of view of one or many users. The user is not necessarily a physical person and is generally called an actor. The diagram differentiates between the actors' roles, even if the actor is one user in reality. Roles can be grouped into role hierarchies, in which the children inherit the use cases from their parents. A use case diagram is often used to aid in stating the systems' design goals and comunicating those intentions to clients.

\begin{figure}
	\begin{center}
		\begin{minipage}{1\textwidth}
			\includegraphics[width=\textwidth]{pictures/use-case-diagram.png}
		\end{minipage}
	\end{center}
	\caption{Use case diagram}
	\label{fig:use-case}
\end{figure}

As seen on the diagram~\ref{fig:use-case}, the application requires a two level design approach: the presentation layer and a management layer.

The presentation layer, which will also be called a public layer, is accessible by anyone. Its main responsibility is the presentation of saved materials to anyone visiting the website. In this case there are two separate functionalities, first a view of multiple materials and second a view of a single material in greater detail. In the first case the materials should be searchable by their titles and at the same time filterable by their assigned tags. Every user should be able to view the top performing materials and every material must be viewable in more detail. The details should contain a full length content with various attachments, be it links which can be visited or files which can be downladed, and an interactible material rating.

The management layer is the core functionality of the application. It should be restricted by an authentication process that every user needs to pass before being granted access. This should serve to protect the vulnerable database from malicious actors. This process is depicted by \textit{Login} action of any user~\ref{fig:use-case}. Logged in users can logout if they desire to do so. Users' password should be resetable.

After logging in, the administrator must be able to see usage statistics and manage the database. Database management includes creation, modification and removal of all relevant data entities. Tags should be protected from unwanted removal if they are in use. Resources should be fully managed by the editor that handles the materials, with the only exception being unused files. Unused files are files that were assigned to some material, lived in it for some time, and then were either replaced or removed. All the data assignable to a material can be created during its creation, simplifying the work significantly by removing the need of repeated operations. Administrators should be able to create new administrators. Any administrator should be able to change the application's parent reference and the reference to the about page. Each material uses a shared default image as a thumbnail in case of having none, and this default image should be configurable too. This configured image should always be reversible to the default one.

\section{Data modelling with ERD}

An Entity-Relationship Diagram (ERD) is a graphical representation of data entities and their relationships. It is commonly used when designing databases to model the system's data structure. An ERD consists of entities, entity attributes, and relationships. Every entity represents a single data object in the system. Sometimes there is a need for connecting two entites in a many-to-many relationship, which is not possible in a typical database and an additional connector is required to separate such relation into a many-to-one one-to-many relation. ERD does not have a limit on the number of data entities, however it is good practice to try and keep them at minimum. Each entity can have multiple attributes. Attribute is a representation of a value of a column for a given some instance of an entity. Each attribute can have constraints imposed upon it, such as a primary key or foreign key constraint.

The new implementation will be a standalone project, and does not need to conform to WordPresses' guidelines anymore. The only limiting factor is a requirement of compatibility with a MySQL database driver. The final schema will be different from the plugins' original. The ERD~\ref{fig:erd} displays 10 separate entities.

\begin{figure}
	\begin{center}
		\begin{minipage}{1\textwidth}
			\includegraphics[width=\textwidth]{pictures/erd-diagram.png}
		\end{minipage}
	\end{center}
	\caption{Entity relationship diagram}
	\label{fig:erd}
\end{figure}

Two of the entities serves as support for the application and do not have any relations. The \textit{migrations} entity is added in case a database migration is needed. It holds the information about the successful migrations and enables their rollbacking if it is defined. The \textit{config} handles the storage and distribution of settings configurable by administrators, like the replacement of the aforementioned default image.

The following entities store the application data.

Materials are saved into \textit{materials}. Several rebundant columns are added to them in order to reduce loading times and allow for an easire sorting later in the implementation. The rebundant columns are \textit{material\_views}, \textit{material\_rating} and \textit{material\_rating\_count}. Each can be computed by aggregating their relative tables, but aggregation is costly and can be done on updates, instead of selects. We can presume that selecting is a much more frequent operation.

Originally called  taxonomies are stored in a \textit{properties}. Properties will also be called tags in the implementation. Properties can be part of property hierarchies, forming tree-like structures where \textit{property\_tag} acts as a parent of the property. Additional connector table is required to assign properties to materials without duplication.

Most of the original metadata are contained in \textit{resources} and connected to materials by a connector entity. Resources include URLs, downloadable files and thumbnails. Paths are stored as relative to the root folder of the application. Links have the entire value saved.

Related materials are kept inside of \textit{material\_material} entity, where each row forms a bi-directional relation. A material can be related to an unlimited amount of other materials, but not self.

Each material can be rated and the ratings are stored in \textit{ratings}. Each row holds a rating of a material given by a single user, with the average computed and saved into the material.

The difference in the database proved hard to overcome when importing the original database to the new implementation. It was deemed to be about the same work as manual upload, which was done instead and served as a first real test of the system.

\section{UX Design}

”User Experience (UX) design it the act and art of crafting the interface and interactions for a website or application~\cite{hamm14}." Wireframing is just one of its parts that produces envisionable layouts of what the final product could look like. Wireframes are usually very bare, composing only of boxes, triangles and other simple shapes, but still give direction. UX design is usually prefaced with an in-depth research of the target audience along with discovery of requirements, consideration of limitations of technologies, and, in case of redesigning an application, the question of what is hampering the users.

In case of the original, most of the complaints came from the administrators, but the publicly available view had its share of problems too. From the thesis~\cite{lang18} it can be seen that the design and wireframing were done with larger screens in mind. In the past few years the use of mobile devices grew exponentially with now over 58\,\% of worldwide internet traffic being mobile devices~\cite{mobile_usage}. The specific issues are elaborated upon in plugin analysis section~\ref{sect:plugin}.

\subsection{Wireframes}

The first and foremost desicion was on the layout of the filters. Filters are one of the most used parts of the application, present in both the public and administration layers. The layout needs to support the nesting of properties. The implemented design~\ref{fig:filters} needs to be very flexible. Each \textit{property} that has children can be closed. Every property can be selected, so checkboxes have been added. If the checkbox is checked and the item has children, the children should dissappear. There were cases where one category contained a high number of values, so a \textit{show more/less} button is added to further reduce the displayed item count. Similar layout is used inside material details, but with no checkboxes.

\begin{figure}
	\begin{center}
		\begin{minipage}{.3\textwidth}
			\includegraphics[width=\textwidth]{pictures/filters_closed.png}
		\end{minipage}
		\begin{minipage}{.3\textwidth}
			\includegraphics[width=\textwidth]{pictures/filters_opened.png}
		\end{minipage}
	\end{center}
	\caption{Wireframes of one group of filters}
	\label{fig:filters}
\end{figure}

Another step was a creation of a materials' card~\ref{fig:mat-card-mobile}. Card is an overview of the materials's information, and should be used when displaying multiple materials on one page. It shows a thumbnail at the top, followed by the title of the material, and then other details with most important being the rating. The whole card should indicate that it is clickable.  On larger screen, the card is more horizontal than vertical, but shows the same data~\ref{fig:mat-card-pc}.

\begin{figure}
	\begin{center}
		\begin{minipage}{.35\textwidth}
			\includegraphics[width=\textwidth]{pictures/material_mobile.png}
		\end{minipage}
	\end{center}
	\caption{Material card for mobile devices}
	\label{fig:mat-card-mobile}
\end{figure}

\begin{figure}
	\begin{center}
		\begin{minipage}{1\textwidth}
			\includegraphics[width=\textwidth]{pictures/material_pc.png}
		\end{minipage}
	\end{center}
	\caption{Material card}
	\label{fig:mat-card-pc}
\end{figure}

With those two components, the public page can be designed. The mobile version~\ref{fig:page-mobile} is stacked in one column. On top of the page a navigation bar is present. The navigation bar is toggleable if the links do not fit, showing them on separate rows (3). Under navigation, a page title is added.  The filters can be toggled betwen hide and show, freeing scrolling space. To add the ability to search for materials, a search bar is added. The only item left is the cards, which can be paged.

\begin{figure}
	\begin{center}
		\begin{minipage}{.3\textwidth}
			\includegraphics[width=\textwidth]{pictures/page_mobile1.png}
		\end{minipage}
		\hfill
		\begin{minipage}{.3\textwidth}
			\includegraphics[width=\textwidth]{pictures/page_mobile2.png}
		\end{minipage}
		\hfill
		\begin{minipage}{.3\textwidth}
			\includegraphics[width=\textwidth]{pictures/page_mobile3.png}
		\end{minipage}
	\end{center}
	\caption{Public mobile page: (1) default, (2) opened filters, (3) opened navigation}
	\label{fig:page-mobile}
\end{figure}

The computer version uses a two column layout~\ref{fig:page-pc}, with one being a much smaller sidebar where the filters are placed. The rest is similar to mobile version, only using the space more freely, and missing the ability to hide all of the filters completely. Navigation bar should fit all links without the need for toggling, too.

\begin{figure}
	\begin{center}
		\begin{minipage}{.9\textwidth}
			\includegraphics[width=\textwidth]{pictures/page_pc.png}
		\end{minipage}
	\end{center}
	\caption{Public page}
	\label{fig:page-pc}
\end{figure}

The material details use the same layout as the public page~\ref{fig:page-pc}. The only big difference is the header. Header contains the information seen on cards, excepth the description of the material. Thumbnail prefers beign on left side, switching to full width on mobile. Go back button should be present to allow intuitive return to the all materials page. Content, attachments and other features are column stacked below the header.

No additional wireframes were made, because the administration follows the same guidelines. Main differences are that administration cards contain additional information, such as ids of materials, date of last update or current status.  They also include clickable buttons enabling editing and deletion. Other design details were decided upon during the implementation.

\chapter{Implementation}

\section{CodeIgniter4}

<< short framework definition >>

<< reason for selecting this framework >>

\subsection{Setup and Updating}

<< steps needed to transfer to deploy >>

<< steps needed to update version >>

<< specifics of matching local deployment enviroment with server ? MAYBE ?>>

\subsection{Project structure}

\section{Public section}

\section{Administration section}

\newpage

------- PROVIZORNI POUZITE NASTROJE

\begin{itemize}
	\item Windows
	\item Insomnia
	\item Visual Studio Code
	\item Laragon
	\item HeidiSQL
	\item Linux
	\item Postman
	\item Texmaker
	\item fithesis4
	\item Grammarly
	\item Mozilla Firefox
	\item Git + Gitlab
	\item WinSCP
	\item Visual Paradigm
\end{itemize}

\newpage

\chapter{Conclusion}

The aim of the thesis was to analyse, design and reimplement an e-learning database WordPress plugin into a standalone web application tailored specifically to the needs of ENAI.

The introduction first elaborated on the context of the project, helping readers get into the problematic.  The next part of took a look at the existence of premade system that would be possible to use in place of the new implementation. However, they were either too focused on the management of full courses, were a general content management system or handled wikipedias, none of which fullfilled the intended functionality of the application.

With the knowledge from the introduction an analysis of the plugin was made. The analysis focused on finding the exact functionality of the plugin and its interface and data flow much more than on its code. This way of research produced formal requirements on the application, which were then visuallized in a use case diagram and used in a data model. With both use and data model known, an abstract UI layout was created for many of the necessary components. This design was then implemented.

The implementation uses a PHP framework~\cite{codeigniter4} as its backend, greatly simplifying and speeding up the development process. The framework operates on an MVC design pattern, which significantly increases the maintainability and modularity of the application.

The product of the work is a new web application that provides an easy to use management of an educational databases. While the application is customized for ENAI, it is freely available for use and modifications~\cite{repository} under the GPT-3 licence.

\subsection{Contributions of the work}

The work produced an open-source web application designed specifically for presentation and management of educational materials. 

It being open-source enables anyone to download it, possibly customize and then deploy to their own server all free of charge. The introduction spoke about a shortage of applications of this kind, which means that the application may increase the number of educational websites, benefiting both organizations and people. The main and intended contribution is its deployment to the ENAI web server, where it will run until it becomes obsolete. This server is already quite known, and the new application may help it grow further.

The system of views and ratings should, along with the management of materials being locked behind authentication, provide a good solution for improvements in material quality by referring more favored articles over the subpar ones. The application also supports a virtually unlimited level of tag hierarchies, only limited by the complexity of the presentation to the user. This is a direct upgrade from the old implementation, where it was not possible. This should allow easier management of tags by grouping them together, and introduce an easier way of searching for whole categories.

Another improvement is a quicker and easier management of files. Originally, you had to upload a file to the server in a separate window, wait for some time, then add it from the list of multiple uploaded files. This is a lot of unrequired steps, which the application reduced to just one click.

\subsection{Possible future improvements}

The application meets the criteria stated at the start of the development, however there is always a possibility for improvements.

For example the support for multi-lingual materials is done by bi-directional relations, which could be improved by implementing collections of materials created upon the addition of another language. Those collections could, aside from language, share their tags and in doing so allow for easier management.

Another possible improvement would be an added support for more languages on the level of the whole application. Some parts already like validation already support such notion, however most do not. If a translation were to be provided, some minor changes would be required across the whole application, but a framework supported localization could then be used.

As a last example, an algorithm for automatically finding similar relations could be implemented, which must be done by hand currently if needed and mixes with language support.

\subsection{Evaluation}

The application was created in a span of seven months with over five hundred commits, but the main bulk of the work came in the later part of development. While I do not have a precise measurement of the spent time on the project, it is at least three hundred hours. It is certain that the costs would accumulate if the project was not an unpaid one. The project is my first web application, having learnt all the languages during the development, with which I am very content.

\printbibliography[heading=bibintoc] %% Print the bibliography.

%     \makeatletter\thesis@blocks@clear\makeatother
%     \phantomsection %% Print the index and insert it into the
%     \addcontentsline{toc}{chapter}{\indexname} %% table of contents.
%     \printindex

% \appendix %% Start the appendices.
% \chapter{Source Code}
% SOURCE CODE WILL BE ADDED

\end{document}
